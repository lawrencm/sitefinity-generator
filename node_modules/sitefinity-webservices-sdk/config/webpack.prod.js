// For instructions about this file refer to
// webpack and webpack-hot-middleware documentation
const webpackMerge = require("webpack-merge"); // used to merge webpack configs
const commonConfig = require("./webpack.common"); // the settings that are common to prod and dev
const HtmlWebpackPlugin = require('html-webpack-plugin');
const TypedocWebpackPlugin = require('typedoc-webpack-plugin');

module.exports =
    webpackMerge(commonConfig({ env: "prod" }), {
        mode: 'production',
        output: {
            filename: "sitefinity-webservices-sdk.min.js"
        },

        plugins: [
            new HtmlWebpackPlugin({
                "filename": "../dist/samples.html",
                "template": "template.html",
                "inject": "head"
            }),
            new TypedocWebpackPlugin({})
        ],
        optimization: {
            minimize: true
        }
    });
